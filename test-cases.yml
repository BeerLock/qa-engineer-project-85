---
- summary: |
    Успешная авторизация через GitHub
  requirement: |
    При верном вводе логина и пароля GitHub происходит успешная
    авторизация на codebattle
  prerequisites: |
    Открыта страница логина. Аккаунт на GitHub создан и авторизован
  test-data: |
    Тестовые данные
  steps:
    - Нажимаем кнопку "Sign In with GitHub"
    - В модальном окне подтверждаем авторизацию через аккаунт GitHub
  expected-result: >
    Пользователь успешно авторизован
    
    
- summary: |
    Успешная авторизация через Discord
  requirement: |
    При верном вводе логина и пароля Discord происходит успешная авторизация на codebattle
  prerequisites:
    Открыта страница логина
    Успешно авторизованный аккаунт Discord
  test-data: |
    Тестовые данные
  steps:
    - Нажимаем кнопку "Sign In with Discord"
    - На странице авторизации Discord нажать "Авторизовать"
  expected-result: |
    Пользователь успешно авторизован
        
- summary: |
    Проверка присоединения к голосовому чату по ссылке
  requirement: >
    Пользователь может по ссылке присоединиться к серверу Discord 
    codebattle для голосового чата с соперником
  prerequisites: Открыта страница логина Успешно авторизованный аккаунт codebattle
  test-data: |
    Логин = jepavi8353@wiroute.com Пароль = qwerty123
  steps:
    - Нажать на свой профиль в правом верхнем углу
    - Нажать "Join Discord"
  expected-result: >
    Подключение к чату успешное 
    
- summary: |
    Проверка входа пользователя с несуществующими логином
  requirement: >
    При неправильном логине или пароле пользователь должен получить
    сообщение об ошибке
  prerequisites: Открыта страница логина
  test-data: |
    Логин = prikol@mail.ru Пароль = prikol
  steps:
    - Вводим логин
    - Вводим пароль
    - Нажимаем кнопку «Submit»
  expected-result: |
    Пользователь должен получить сообщение EMAIL_NOT_FOUND
    
- summary: |
    Проверка сортировки в таблице ретйинга
  requirement: |
    На странице рейтинга при нажатии на заголовки столбцов происходит сортировка
  prerequisites: Открыта страница рейтинга https://codebattle.hexlet.io/users
  test-data: |
    Логин = jepavi8353@wiroute.com Пароль = qwerty123
  steps:
    - Нажить на заголовок "Rank"
    - Нажить на заголовок "Rating"
    - Нажить на заголовок "Games played"
    - Нажить на заголовок "Performance"
    - Нажать на заголовок "Joined"
  expected-result: |
    Рейтинг сортируется по тому столбцу, который был нажат последним
    
- summary: |
    Проверка истории прошедших баттлов
  requirement: |
    На главной странице есть вкладка истории прошедших баттлов
  prerequisites: Открыта главная страница
  test-data: |
    Логин = jepavi8353@wiroute.com Пароль = qwerty123
  steps:
    - Нажать на "Completed games"
  expected-result: >
    Прошедшие баттлы успешно отображаются 
    
- summary: |
    Проверка просмотра повтора баттла
  requirement: |
    Прошедший батл можно посмотреть в записи
  prerequisites: Открыта главная страница
  test-data: |
    Логин = jepavi8353@wiroute.com Пароль = qwerty123
  steps:
    - Нажать на "Completed games"
    - Рядом с любым баттлом нажать "Show"
    - На строке воспроизведения внизу нажать "Play"
  expected-result: |
    Баттл можно успешно посмотреть

- summary: >
    Проверка кастомизации при создании лобби
  requirement: |
    При создании лобби открывается модальное окно с возможностью кастомизации
  prerequisites: Открыта главная страница
  test-data: |
    Логин = jepavi8353@wiroute.com Пароль = qwerty123
  steps:
    - Нажать на "Create a game"
    - В модальном окне выбрать сложность, time-limit, Game Type, Task, tags
    - Нажать "Create battle"
  expected-result: |
    Cоздается лобби с выбранными параметрами
    
- summary: |
    Проверка смены языка программирования в терминале баттла
  requirement: >
    В окне бота можно выбрать язык программирования, на котором будет
    писаться решение задачи
  prerequisites: Открыта главная страница
  test-data: |
    Логин = jepavi8353@wiroute.com Пароль = qwerty123
  steps:
    - Нажать на "Create a game"
    - В модальном окне выбрать сложность, time-limit, Game Type, Task, tags
    - Нажать "Create battle"
    - Над терминалом открыть список и выбрать "Python"
  expected-result: |
    Язык программирования меняется успешно
    
- summary: |
    Проверка смены языка на русский в баттле
  requirement: |
    На странице батла можно перевести задачу на выбранный язык
  prerequisites: Открыта главная страница
  test-data: |
    Логин = jepavi8353@wiroute.com Пароль = qwerty123
  steps:
    - Нажать на "Create a game"
    - В модальном окне выбрать сложность, time-limit, Game Type, Task, tags
    - Нажать "Create battle"
    - В поле задачи раскрыть список языков (изначально English)
    - Нажать "Русский"
  expected-result: |
    Задача переведётся с английского на русский
    
- summary: |
    Проверка отображения уведомления о начале баттла
  requirement: |
    На странице баттла появляется уведомление для одновременного начала баттла
  prerequisites: Открыта главная страница
  test-data: |
    Логин = jepavi8353@wiroute.com Пароль = qwerty123
  steps:
    - Нажать на "Create a game"
    - В модальном окне выбрать сложность, time-limit, Game Type, Task, tags
    - Нажать "Create battle"
    - Подтвердить готовность
  expected-result: |
    После временного отсчёта появляется уведомление о начале баттла
    
- summary: |
    Проверка просмотра баттла зрителям в режиме online
  requirement: >
    На главной странице можно присоединиться к просмотру баттла,
    который идёт в данный момент
  prerequisites: Открыта главная страница
  test-data: |
    Логин = jepavi8353@wiroute.com Пароль = qwerty123
  steps:
    - Выбрать вкладку "Lobby"
    - Нажать на кнопку "Show" напротив лобби, где есть оба соперника
  expected-result: >
    Баттл можно просмотреть в режиме online
    
- summary: |
    Проверка создания турнира
  requirement: |
    Можно создать турнир по выбранным параметрам
  prerequisites: Открыта главная страница
  test-data: |
    Логин = jepavi8353@wiroute.com Пароль = qwerty123
  steps:
    - Выбрать вкладку "Tournaments"
    - Нажать на гиперссылку "Tournaments Info"
    - Ввести желаемые параметры турнира
    - Нажать "Create"
  expected-result: |
    Турнир успешно создан
    
- summary: |
    Проверка переподключения к баттлу
  requirement: >
    Пользователь может обратно присоединиться к баттлу, из которого
    вышел, если он участник
  prerequisites: Открыта главная страница Успешно авторизованный аккаунт codebattle
  test-data: |
    Логин = jepavi8353@wiroute.com Пароль = qwerty123
  steps:
    - Выбрать вкладку "Lobby"
    - Напротив открытого баттла нажать "Fight"
    - На странице баттла нажать "Back to home"
    - Напротив лобби, из которого вышли, нажать "Continue"
  expected-result: |
    Переподключение к баттлу успешно
    
- summary: >
    Проверка возможности дописать код после завершения баттла
  requirement: >
    После успешной проверки кода и объявления победителя, участники
    могут остаться в лобби и дописать код / ознакомиться с кодом соперника
  prerequisites: Открыта главная страница Успешно авторизованный аккаунт codebattle
  test-data: |
    Логин = jepavi8353@wiroute.com Пароль = qwerty123
  steps:
    - Выбрать вкладку "Lobby"
    - Напротив открытого баттла нажать "Fight"
    - Дождаться успешной проверки кода соперника
  expected-result: |
    После завершения баттла можно дописать код
    
- summary: |
    Проверка отображения значка победителя в истории баттлов
  requirement: >
    Значок кубка должен отображаться рядом с никнеймом победителя в
    истории баттлов
  prerequisites: Открыта главная страница Успешно авторизованный аккаунт codebattle
  test-data: |
    Логин = jepavi8353@wiroute.com Пароль = qwerty123
  steps:
    - Выбрать вкладку "COMPLETED GAMES"
  expected-result: |
    Напротив никнейма победителя отображается значок "кубка"
    
- summary: |
    Проверка возможности писать в терминале соперника 
  requirement: >
    Участники батла не могут вносить изменения и писать что-либо в
    терминале соперника
  prerequisites: Открыта главная страница Успешно авторизованный аккаунт codebattle
  test-data: |
    Логин = jepavi8353@wiroute.com Пароль = qwerty123
  steps:
    - Выбрать вкладку "Lobby"
    - Напротив открытого лобби нажать "Fight"
    - Навести курсор на любое место в терминале соперника и нажать ЛКМ
    - Начать вводить "abcde"
  expected-result: >
    Вводимые символы не вписываются в терминал соперника
    
- summary: |
    Успешная авторизация через GitHub в мобильной версии
  requirement: >
    При верном вводе логина и пароля GitHub происходит успешная
    авторизация на codebattle в мобильной версии сайта
  prerequisites: |
    Открыта страница логина в мобильном браузере. Аккаунт на GitHub создан
  test-data: |
    Тестовые данные
  steps:
    - Нажимаем кнопку "Sign In with GitHub"
    - Авторизуемся существующим аккаунтом GitHub
  expected-result: >
    Успешная авторизация через GitHub
    
- summary: |
    Проверка отображения основных страниц сайта в мобильной версии
  requirement: >
    Все страницы отображаются корректно в мобильной версии сайта
  prerequisites: >
    Открыта главная страница codebattle с вкладкой "Lobby" в
    мобильном браузере. Аккаунт авторизован.
  test-data: |
    Логин = jepavi8353@wiroute.com Пароль = qwerty123
  steps:
    - Нажимаем на вкладку "Tournaments"
    - Нажимаем на вкладку "Completed games"
    - В нижней части сайта на блоке "LEADERBOARD" нажать на "TOP List"
    - Нажать "My Profile"
  expected-result: |
    Страницы открываются и отображаются успешно
    
- summary: |
    Проверка отображения редактора кода соперника
  requirement: |
    Оба игрока видят друг у друга редактор с кодом, вывод тестов
  prerequisites: |
    Открыта главная страница
    Успешно авторизованный аккаунт codebattle
  test-data: |
    Логин = jepavi8353@wiroute.com Пароль = qwerty123
  steps:
    - Создать новую игру
  expected-result: |
    Редактор кода соперника отображается
    
- summary: |
    Проверка создания игры с ботом 
  requirement: |
    В игру можно играть с ботом 
  prerequisites: |
    Открыта главная страница
    Успешно авторизованный аккаунт codebattle
  test-data: |
    Логин = jepavi8353@wiroute.com Пароль = qwerty123
  steps:
    - Нажать на "Create a game"
    - В модальном окне выбрать "With a bot"
    - Нажать "Create battle"
  expected-result: |
    Игра успешно создана
    
- summary: |
    Проверка создания игры с другом 
  requirement: |
    В игру можно играть с другом (по ссылке)
  prerequisites: |
    Открыта главная страница
    Успешно авторизованный аккаунт codebattle
  test-data: |
    Логин = jepavi8353@wiroute.com Пароль = qwerty123
  steps:
    - Нажать на "Create a game"
    - В модальном окне выбрать "With a friend"
    - Под заголовком "Choose opponent" написать имя пользователя
    - Нажать "Create Invite"
    - Авторизоваться с другого аккаунта в codebattle на который пришел invite
    - Принять приглашение
  expected-result: |
    Игра успешно создана
    
- summary: |
    Проверка возможности писать в чат во время игры
  requirement: |
    В игре есть чат, в котором общаются зарегистрированные пользователи
  prerequisites: |
    Открыта главная страница
    Успешно авторизованный аккаунт codebattle
  test-data: |
    Логин = jepavi8353@wiroute.com Пароль = qwerty123
  steps:
    - Нажать на "Create a game"
    - Нажать "Create Battle"
    - Написать в чат "Hello!"
  expected-result: |
    Сообщения успешно отправляются 
    
- summary: |
    Проверка отображения списка рейтинга
  requirement: |
    Пользователи могут просматривать список рейтинга
  prerequisites: |
    Открыта главная страница
    Успешно авторизованный аккаунт codebattle
  test-data: |
    Логин = jepavi8353@wiroute.com Пароль = qwerty123
  steps:
    - Нажать "TOP list" в блоке LEADERBOARD
  expected-result: |
    Успешное отображение списка рейтинга
